(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),i=n.n(l),c=n(30),s=n(61),o=n(19),u=n.n(o),m=n(31),h=n(14),d=n(13),p=n(16),f=n(15),b=n(17),v=n(36),C=n(33),E=n.n(C),g=(n(105),new(n(75).a)("LocalDB"));g.version(1).stores({shifts:"++id,name, date, starttime, endtime, mintuescalctime, note, isActive",clients:"++id, &name",self:"name"});var y=g,O=n(166),j=n(167),k=n(78),T=n.n(k),S=n(168),w=n(174),x=n(164),A=n(165),D=function(e){return r.a.createElement(w.a,{anchor:"top",open:e.open,onClose:e.onClose},r.a.createElement(x.a,{component:"nav"},r.a.createElement(A.a,{button:!0,onClick:function(){return console.log("check")}},"Home"),r.a.createElement(A.a,{button:!0,onClick:function(){return console.log("check")}},"Clients"),r.a.createElement(A.a,{button:!0,onClick:function(){return console.log("check")}},"Shifts"),r.a.createElement(A.a,{button:!0,onClick:function(){return console.log("check")}},"Export")))},N=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={drawerOpen:!1},n.toggleDrawer=function(){n.setState({drawerOpen:!n.state.drawerOpen})},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a,{position:"static",style:{boxShadow:"none"}},r.a.createElement(j.a,null,r.a.createElement("h1",{style:{flexGrow:1}},"Raz."),r.a.createElement(S.a,{edge:"start",color:"inherit","aria-label":"Menu",onClick:function(){return e.toggleDrawer()}},r.a.createElement(T.a,null)),r.a.createElement(D,{open:this.state.drawerOpen,onClose:this.toggleDrawer})))}}]),t}(a.Component),Y=function(){return r.a.createElement("nav",null,r.a.createElement(c.b,{to:"/"},"Home"),r.a.createElement(c.b,{to:"/clients/add",activeClassName:"selectedLink"},"Add Client"),r.a.createElement(c.b,{to:"/manager/export",activeClassName:"selectedLink"},"Export"))},I=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(p.a)(this,Object(f.a)(t).call(this))).handleSubmit=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.handleAddClient(e.state.value.toLowerCase());case 2:return t.next=4,e.setState({value:""});case 4:case"end":return t.stop()}},t)})),e.handleChange=function(t){e.setState({value:t})},e.state={value:""},e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.state.value,onChange:function(t){return e.handleChange(t.target.value)}}),r.a.createElement("button",{type:"button",onClick:this.handleSubmit},"Add New Client"))}}]),t}(a.Component),M=Object(v.f)(function(e){var t=function(){var t=Object(m.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setSelectedClient(n);case 2:return t.next=4,e.history.push("/shifts/select");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"clients"},r.a.createElement("h3",null,"Choose Client"),r.a.createElement("ul",{className:"clients__list"},e.clients.map(function(e,n){return r.a.createElement("li",{key:n,onClick:function(){return t(e.name)}},e.name)})))}),B=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleRedirect=function(e,t){"timer"===t&&n.props.handleAddShiftByTimer(n.props.selectedTempClient),n.props.history.push(e)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),null!==this.props.selectedTempClient?r.a.createElement("div",{className:"shifts"},r.a.createElement("button",{onClick:function(){return e.handleRedirect("/shifts/timer","timer")}},"Start Shift Timer"),r.a.createElement("p",{onClick:function(){return e.handleRedirect("/shifts/form","manual")}},"or Add Manually")):r.a.createElement(v.a,{to:"/"})}}]),t}(a.Component),H=n(80),R=n(169),L=n(81),P=n(51),_=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).calcTime=function(e,t,a){var r="".concat(e," ").concat(t),l="".concat(e," ").concat(a),i=E.a.duration(E()(l,"YYYY-MM-DD HH:mm").diff(E()(r,"YYYY-MM-DD HH:mm"))).asMinutes();n.setState({mintuesCalcTime:i})},n.handleSubmit=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.props.history),t.preventDefault(),e.next=4,n.calcTime(n.state.date,n.state.startTime,n.state.endTime);case 4:return e.next=6,n.props.handleAddShift(n.state,!1);case 6:return e.next=8,n.props.history.push("/");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(H.a)({},r,a))},n.state={clientName:e.selectedTempClient,date:E()().format("YYYY-MM-DD"),startTime:"",endTime:"",mintuesCalcTime:"",note:""},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return null===this.state.clientName||this.state.toDashboard?r.a.createElement(v.a,{to:"/"}):r.a.createElement("div",{className:"shifts__form"},r.a.createElement(R.a,{disabled:!0,id:"standard-disabled",label:"Client Name",defaultValue:this.state.clientName,margin:"normal"}),r.a.createElement(P.c,{utils:L.a},r.a.createElement(P.a,{margin:"normal",id:"mui-pickers-date",label:"Date picker",value:this.state.date,onChange:this.handleInputChange,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(P.b,{margin:"normal",id:"mui-pickers-time",label:"Start Time",value:this.state.startTime,onChange:this.handleInputChange,KeyboardButtonProps:{"aria-label":"change time"}}),r.a.createElement(P.b,{margin:"normal",id:"mui-pickers-time",label:"End Time",value:this.state.endTime,onChange:this.handleInputChange,KeyboardButtonProps:{"aria-label":"change time"}})),r.a.createElement(R.a,{name:"note",id:"standard-name",label:"Note",value:this.state.note,onChange:this.handleInputChange,margin:"normal"}),r.a.createElement("label",null,"Client:",r.a.createElement("select",{name:"clientName",value:this.state.clientName||"",onChange:this.handleInputChange},this.props.clients.map(function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("label",null,"Date:",r.a.createElement("input",{name:"date",type:"date",value:this.state.date,onChange:this.handleInputChange})),r.a.createElement("label",null,"Start Time:",r.a.createElement("input",{name:"startTime",type:"time",value:this.state.startTime,onChange:this.handleInputChange,required:!0})),r.a.createElement("label",null,"End Time:",r.a.createElement("input",{name:"endTime",type:"time",value:this.state.endTime,onChange:this.handleInputChange,required:"required"})),r.a.createElement("label",null,"Note:",r.a.createElement("input",{name:"note",type:"text",value:this.state.note,onChange:this.handleInputChange})),r.a.createElement("input",{type:"submit",value:"Submit",onClick:this.handleSubmit}))}}]),t}(a.Component),q=Object(v.f)(_),K=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={status:!1,runningTime:0},n.handleClick=function(){n.setState(function(e){if(e.status)clearInterval(n.timer);else{var t=Date.now()-n.state.runningTime;n.timer=setInterval(function(){n.setState({runningTime:Date.now()-t})})}return{status:!e.status}})},n.handleReset=function(){n.setState({runningTime:0,status:!1})},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.status,n=e.runningTime;return r.a.createElement("div",null,r.a.createElement("p",null,n,"ms"),r.a.createElement("button",{onClick:this.handleClick},t?"Stop":"Start"),r.a.createElement("button",{onClick:this.handleReset},"Reset"))}}]),t}(a.Component),J=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.props.runningTime,"ms"),r.a.createElement("button",null,"Start"),r.a.createElement("button",null,"Reset"),r.a.createElement(K,null))}}]),t}(a.Component),V=n(84),W=function(e){function t(e){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){console.log(this.props.data);return r.a.createElement(V.CSVLink,{data:this.props.data,filename:"file.csv",headers:[{label:"Client Name",key:"name"},{label:"Date",key:"date"},{label:"Start Time",key:"starttime"},{label:"End Time",key:"endtime"},{label:"Total Time",key:"mintuescalctime"},{label:"Note",key:"note"}]},"Download")}}]),t}(a.Component),z=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleAddShiftByTimer=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.shifts.add({name:t,date:E()().format("YYYY-MM-DD"),startTime:E()().format("HH:mm"),isActive:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleAddShift=function(){var e=Object(m.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.shifts.add({name:t.clientName,date:t.date,starttime:t.startTime,endtime:t.endTime,mintuescalctime:t.mintuesCalcTime,note:t.note,isActive:n});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.setSelectedClient=function(e){n.setState({selectedTempClient:e})},n.handleAddClient=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={name:t},y.table("clients").add(a).then(function(e){var t=[].concat(Object(s.a)(n.state.clients),[Object.assign(a,{id:e})]);n.setState({clients:t})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleDeleteClient=function(e){y.table("clients").delete(e).then(function(){var t=n.state.clients.filter(function(t){return t.id!==e});n.setState({clients:t})})},n.state={clients:[],shifts:[],tempData:{selectedUser:null,lastedShift:null},selectedTempClient:null,stopWatchIsActive:!1},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=y.table("clients").toArray(),n=y.table("shifts").toArray(),a=y.table("shifts").toCollection().last();Promise.all([t,n,a]).then(function(t){var n=!1;t[1].length>0&&(n=t[2]),e.setState({clients:t[0],shifts:t[1],lastShift:n})})}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{className:"app"},r.a.createElement(N,null),r.a.createElement(Y,null),r.a.createElement("div",{className:"container"},r.a.createElement(v.b,{exact:!0,path:"/",render:function(){return r.a.createElement(M,{clients:e.state.clients,setSelectedClient:e.setSelectedClient})}}),r.a.createElement(v.b,{path:"/shifts/select",render:function(t){return r.a.createElement(B,{selectedTempClient:e.state.selectedTempClient,history:t.history,handleAddShiftByTimer:e.handleAddShiftByTimer})}}),r.a.createElement(v.b,{path:"/clients/add",render:function(){return r.a.createElement(I,{handleAddClient:e.handleAddClient})}}),r.a.createElement(v.b,{path:"/shifts/form",render:function(t){return r.a.createElement(q,{handleAddShift:e.handleAddShift,selectedTempClient:e.state.selectedTempClient,clients:e.state.clients,history:t.history})}}),r.a.createElement(v.b,{path:"/shifts/timer",render:function(){return r.a.createElement(J,{status:e.state.stopWatchIsActive,runningTime:0})}}),r.a.createElement(v.b,{path:"/manager/export",render:function(){return r.a.createElement(W,{data:e.state.shifts})}})))}}]),t}(a.Component);i.a.render(r.a.createElement(c.a,null,r.a.createElement(z,null)),document.getElementById("root"))},98:function(e,t,n){e.exports=n(125)}},[[98,1,2]]]);
//# sourceMappingURL=main.534fa804.chunk.js.map